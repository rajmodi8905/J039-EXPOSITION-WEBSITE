<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.41">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1. Basic Operations – Quarto Template</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-49927ad6ac989989b068a441603fbd97.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-7cfa380d139a4d61a924487b0af32b39.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Quarto Template</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1. Basic Operations</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="cell-1" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.colors <span class="im">import</span> LinearSegmentedColormap</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>config inlineBackend.figure_format <span class="op">=</span> <span class="st">'retina'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Q1. Write code to create a DataFrame from a dictionary containing student names and their scores in three subjects (Math, Science, English).<br></strong> * Write a code to add a new column <code>Total Marks</code>, which calculates the total marks for each student. * Print first five rows of the DataFrame and summary statistics using the <code>describe()</code> method.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Virat'</span>, <span class="st">'Dhoni'</span>, <span class="st">'Rohit'</span>, <span class="st">'Sachin'</span>, <span class="st">'Gavaskar'</span>],</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Math'</span>: [<span class="dv">90</span>, <span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">70</span>, <span class="dv">95</span>],</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Science'</span>: [<span class="dv">85</span>, <span class="dv">88</span>, <span class="dv">90</span>, <span class="dv">75</span>, <span class="dv">92</span>],</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'English'</span>: [<span class="dv">78</span>, <span class="dv">85</span>, <span class="dv">82</span>, <span class="dv">90</span>, <span class="dv">88</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-4" class="cell" data-outputid="f1c8e66d-26a1-4f1d-9ee9-802fb3645e1a" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df_students <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Virat'</span>, <span class="st">'Dhoni'</span>, <span class="st">'Rohit'</span>, <span class="st">'Sachin'</span>, <span class="st">'Gavaskar'</span>],</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Math'</span>: [<span class="dv">90</span>, <span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">70</span>, <span class="dv">95</span>],</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Science'</span>: [<span class="dv">85</span>, <span class="dv">88</span>, <span class="dv">90</span>, <span class="dv">75</span>, <span class="dv">92</span>],</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'English'</span>: [<span class="dv">78</span>, <span class="dv">85</span>, <span class="dv">82</span>, <span class="dv">90</span>, <span class="dv">88</span>]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>df_students.<span class="bu">eval</span>(<span class="st">'Total_Marks = (Math + Science + English)'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"First five rows of the DataFrame:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df_students<span class="sc">.</span>head()<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Summary statistics of :</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df_students<span class="sc">.</span>describe()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>First five rows of the DataFrame:
        Name  Math  Science  English  Total_Marks
0     Virat    90       85       78          253
1     Dhoni    80       88       85          253
2     Rohit    85       90       82          257
3    Sachin    70       75       90          235
4  Gavaskar    95       92       88          275

Summary statistics of :
             Math    Science    English  Total_Marks
count   5.000000   5.000000   5.000000     5.000000
mean   84.000000  86.000000  84.600000   254.600000
std     9.617692   6.670832   4.774935    14.240786
min    70.000000  75.000000  78.000000   235.000000
25%    80.000000  85.000000  82.000000   253.000000
50%    85.000000  88.000000  85.000000   253.000000
75%    90.000000  90.000000  88.000000   257.000000
max    95.000000  92.000000  90.000000   275.000000</code></pre>
</div>
</div>
<p><strong>Q2 Create a dummy CSV file named students.csv containing the following columns: Name, Age, Gender, and Marks (atleast 5 entries). Perform the following tasks:</strong></p>
<ul>
<li>Load the file into a DataFrame using Pandas.</li>
<li>Display the last 3 rows of the DataFrame.</li>
<li>Print the total number of rows and columns in the DataFrame.</li>
</ul>
<div id="cell-6" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>csv_df <span class="op">=</span> pd.read_csv(<span class="st">"students.csv"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(csv_df.tail(<span class="dv">3</span>),<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> csv_df.shape[<span class="dv">0</span>]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> csv_df.shape[<span class="dv">1</span>]</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total Rows: </span><span class="sc">{</span>rows<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total Columns: </span><span class="sc">{</span>columns<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Name  Age  Gender  Marks
2   Mark Johnson   16    Male     78
3    Emily Davis   15  Female     88
4  Michael Brown   17    Male     76 

Total Rows: 5
Total Columns: 4</code></pre>
</div>
</div>
<p><strong>Q3.Create and populate a DataFrame with columns Employee_ID, Name, Department, and Salary. Now perform the following:</strong></p>
<ul>
<li>Add a new column Bonus where each employee gets 10% of their Salary.</li>
<li>Increase the Salary of all employees in the IT department by 20%.</li>
<li>Drop the Department column from the DataFrame.</li>
</ul>
<div id="cell-8" class="cell" data-outputid="6c489420-43eb-4f29-9b4e-7f11b2f4d69f">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Employee_ID'</span>: [<span class="st">'E1'</span>, <span class="st">'E2'</span>, <span class="st">'E3'</span>, <span class="st">'E4'</span>, <span class="st">'E5'</span>],</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Bhavya'</span>, <span class="st">'Heer'</span>, <span class="st">'Raj'</span>, <span class="st">'Harsh'</span>, <span class="st">'Aayush'</span>],</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Department'</span>: [<span class="st">'HR'</span>, <span class="st">'IT'</span>, <span class="st">'Finance'</span>, <span class="st">'IT'</span>, <span class="st">'HR'</span>],</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Salary'</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">55000</span>, <span class="dv">58000</span>, <span class="dv">52000</span>],</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Bonus'</span>] <span class="op">=</span> df[<span class="st">'Salary'</span>]<span class="op">*</span><span class="fl">0.1</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Salary'</span>] <span class="op">+=</span> df[<span class="st">'Salary'</span>]<span class="op">*</span><span class="fl">0.2</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.drop(<span class="st">'Department'</span>, axis <span class="op">=</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Employee_ID    Name   Salary   Bonus
0          E1  Bhavya  60000.0  5000.0
1          E2    Heer  72000.0  6000.0
2          E3     Raj  66000.0  5500.0
3          E4   Harsh  69600.0  5800.0
4          E5  Aayush  62400.0  5200.0</code></pre>
</div>
</div>
<section id="indexing-and-slicing" class="level1">
<h1>2. Indexing and Slicing</h1>
<p><strong>Q1. You are given a data about employees’ performance:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Employee'</span>: [<span class="st">'E1'</span>, <span class="st">'E2'</span>, <span class="st">'E3'</span>, <span class="st">'E4'</span>, <span class="st">'E5'</span>],</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Department'</span>: [<span class="st">'HR'</span>, <span class="st">'IT'</span>, <span class="st">'Finance'</span>, <span class="st">'IT'</span>, <span class="st">'HR'</span>],</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Salary'</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">55000</span>, <span class="dv">58000</span>, <span class="dv">52000</span>],</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Performance_Rating'</span>: [<span class="fl">8.2</span>, <span class="fl">7.8</span>, <span class="fl">8.5</span>, <span class="fl">7.4</span>, <span class="fl">8.0</span>],</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Years_at_Company'</span>: [<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">4</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Using boolean indexing, select employees who meet all of the following conditions:</p>
<ul>
<li>Belong to either ‘HR’ or ‘IT’ departments.</li>
<li>Have a performance rating greater than or equal to 8.0.</li>
<li>Earn a salary less than 55,000 or have been with the company for at least 4 years.</li>
</ul>
<div id="cell-11" class="cell" data-outputid="5813ea5e-2d86-476c-9254-369abf673f98">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Employee'</span>: [<span class="st">'E1'</span>, <span class="st">'E2'</span>, <span class="st">'E3'</span>, <span class="st">'E4'</span>, <span class="st">'E5'</span>],</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Department'</span>: [<span class="st">'HR'</span>, <span class="st">'IT'</span>, <span class="st">'Finance'</span>, <span class="st">'IT'</span>, <span class="st">'HR'</span>],</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Salary'</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">55000</span>, <span class="dv">58000</span>, <span class="dv">52000</span>],</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Performance_Rating'</span>: [<span class="fl">8.2</span>, <span class="fl">7.8</span>, <span class="fl">8.5</span>, <span class="fl">7.4</span>, <span class="fl">8.0</span>],</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Years_at_Company'</span>: [<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">4</span>]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>mask_1 <span class="op">=</span> (data_df[<span class="st">"Department"</span>] <span class="op">==</span> <span class="st">"HR"</span>) <span class="op">|</span> ( data_df[<span class="st">"Department"</span>] <span class="op">==</span> <span class="st">"IT"</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>data_df<span class="op">=</span> data_df[mask_1]</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>mask_2 <span class="op">=</span> data_df[<span class="st">"Performance_Rating"</span>] <span class="op">&gt;=</span> <span class="fl">8.0</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> data_df[mask_2]</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>mask_3 <span class="op">=</span> ((data_df[<span class="st">"Salary"</span>]<span class="op">&lt;</span> <span class="dv">55000</span> )<span class="op">|</span>( data_df[<span class="st">"Years_at_Company"</span>] <span class="op">&gt;=</span><span class="dv">4</span>))</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>data_df<span class="op">=</span> data_df[mask_3]</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">#The above can also be written in one line but it wasnt looking very readable so we didnt use that.</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">#mask = ((df['Department'] == 'HR') | (df['Department'] == 'IT')) &amp; (df['Performance_Rating'] &gt;= 8) &amp; ((df['Salary'] &lt; 55000) | (df['Years_at_Company'] &gt;= 4))</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Employee Department  Salary  Performance_Rating  Years_at_Company
0       E1         HR   50000                 8.2                 5
4       E5         HR   52000                 8.0                 4</code></pre>
</div>
</div>
<p><strong>Q2. Slicing Rows and Columns</strong></p>
<pre><code>data = {
    'Product': ['Laptop', 'Phone', 'Tablet', 'Monitor', 'Headphones'],
    'Price': [800, 400, 300, 150, 50],
    'Stock': [20, 35, 50, 10, 100],
    'Rating': [4.5, 4.2, 3.8, 4.8, 4.0]
}</code></pre>
<p>Use slicing to select the following:</p>
<ul>
<li>The last 3 rows of the DataFrame.</li>
<li>All columns except ‘Stock’ and ‘Rating’ from the first 3 rows.</li>
</ul>
<div id="cell-13" class="cell" data-outputid="34099a0a-2075-4bd7-b507-fb39a059166d" data-execution_count="282">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Product'</span>: [<span class="st">'Laptop'</span>, <span class="st">'Phone'</span>, <span class="st">'Tablet'</span>, <span class="st">'Monitor'</span>, <span class="st">'Headphones'</span>],</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Price'</span>: [<span class="dv">800</span>, <span class="dv">400</span>, <span class="dv">300</span>, <span class="dv">150</span>, <span class="dv">50</span>],</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Stock'</span>: [<span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">100</span>],</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Rating'</span>: [<span class="fl">4.5</span>, <span class="fl">4.2</span>, <span class="fl">3.8</span>, <span class="fl">4.8</span>, <span class="fl">4.0</span>]</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">"Product"</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Last 3 rows of the dataframe:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df[<span class="op">-</span><span class="dv">3</span>:]<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"All columns except 'Stock' and 'Rating' from the first 3 rows:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df<span class="sc">.</span>loc[:, <span class="op">~</span>df.columns.isin([<span class="st">"Stock"</span>, <span class="st">"Rating"</span>])]<span class="sc">.</span>head(<span class="dv">3</span>)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Last 3 rows of the dataframe:
             Price  Stock  Rating
Product                         
Tablet        300     50     3.8
Monitor       150     10     4.8
Headphones     50    100     4.0

All columns except 'Stock' and 'Rating' from the first 3 rows:
          Price
Product       
Laptop     800
Phone      400
Tablet     300</code></pre>
</div>
</div>
<p><strong>Q3.Label-based Indexing with <code>.loc[]</code> and <code>.iloc[]</code></strong></p>
<pre><code>data = {
    'Name': ['John', 'Sara', 'Tom', 'Alex', 'Julia'],
    'Age': [29, 35, 40, 25, 31],
    'Salary': [50000, 60000, 75000, 45000, 52000],
    'Department': ['HR', 'Finance', 'IT', 'HR', 'IT']
}</code></pre>
<p>Using .loc[] and .iloc[], perform the following tasks:</p>
<ul>
<li>Select the row corresponding to ‘Tom’ using label-based indexing.</li>
<li>Select the first two rows and the ‘Salary’ and ‘Department’ columns using position-based indexing.</li>
</ul>
<div id="cell-15" class="cell" data-outputid="d8b3653d-749d-4d87-87e7-6e4c2ddc6bf0" data-execution_count="286">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'John'</span>, <span class="st">'Sara'</span>, <span class="st">'Tom'</span>, <span class="st">'Alex'</span>, <span class="st">'Julia'</span>],</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">29</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">25</span>, <span class="dv">31</span>],</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Salary'</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">75000</span>, <span class="dv">45000</span>, <span class="dv">52000</span>],</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Department'</span>: [<span class="st">'HR'</span>, <span class="st">'Finance'</span>, <span class="st">'IT'</span>, <span class="st">'HR'</span>, <span class="st">'IT'</span>]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The row corresponding to 'Tom':</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df<span class="sc">.</span>loc[df[<span class="st">"Name"</span>] <span class="op">==</span> <span class="st">"Tom"</span>]<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The first two rows and the 'Salary' and 'Department' columns:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>df<span class="sc">.</span>iloc[:<span class="dv">2</span>, [<span class="dv">2</span>, <span class="dv">3</span>]]<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The row corresponding to 'Tom':
   Name  Age  Salary Department
2  Tom   40   75000         IT

The first two rows and the 'Salary' and 'Department' columns:
    Salary Department
0   50000         HR
1   60000    Finance</code></pre>
</div>
</div>
</section>
<section id="groupby-and-aggregations" class="level1">
<h1>3. GroupBy and Aggregations</h1>
<p><strong>Q1. You have a dataset of students’ test scores. The dataset has the following columns:</strong></p>
<ul>
<li>StudentID: Unique ID of the student.</li>
<li>Subject: The subject of the test.</li>
<li>Score: The score obtained (out of 100).</li>
</ul>
<pre><code>data = pd.DataFrame({
    "StudentID": [1, 2, 3, 2, 3, 1],
    "Subject": ["Math", "Science", "Math",  "Math","Science", "Science"],
    "Score": [85, 90, 78, 88, 92, 95]
})</code></pre>
<ul>
<li>Write a function to calculate the average score for each student. Use this function to group the data by StudentID and find the average score.</li>
</ul>
<div id="cell-18" class="cell" data-outputid="cb3ea58c-44ea-4db6-c0ff-052336a8ed3a" data-execution_count="290">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"StudentID"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>],</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Subject"</span>: [<span class="st">"Math"</span>, <span class="st">"Science"</span>, <span class="st">"Math"</span>,  <span class="st">"Math"</span>,<span class="st">"Science"</span>, <span class="st">"Science"</span>],</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Score"</span>: [<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">78</span>, <span class="dv">88</span>, <span class="dv">92</span>, <span class="dv">95</span>]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>average_score <span class="op">=</span> data.groupby(<span class="st">"StudentID"</span>)[<span class="st">"Score"</span>].mean()</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The average score of each student :</span><span class="ch">\n</span><span class="sc">{</span>average_score<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The average score of each student :
StudentID
1    90.0
2    89.0
3    85.0
Name: Score, dtype: float64</code></pre>
</div>
</div>
<p><strong>Q2. Create a dataset of retail sales with a hierarchical index consisting of <code>Region</code> and <code>StoreID</code>. The dataset contains the following columns:</strong></p>
<ul>
<li><p>ProductCategory: The category of the product sold (e.g., Electronics, Clothing)</p></li>
<li><p>Sales: The amount of sales made</p></li>
</ul>
<p><em>Group the data by respective level indices and calculate:</em></p>
<ul>
<li>Total sales in each region.</li>
<li>Average sales in each store .</li>
</ul>
<div id="cell-20" class="cell" data-outputid="8cd7a5af-8441-4a20-e090-c6e6c3c2804e" data-execution_count="292">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>retail_sales <span class="op">=</span> pd.DataFrame({</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Region'</span>: [<span class="st">'North'</span>, <span class="st">'North'</span>, <span class="st">'North'</span>, <span class="st">'South'</span>, <span class="st">'South'</span>, <span class="st">'South'</span>, <span class="st">'East'</span>, <span class="st">'East'</span>, <span class="st">'West'</span>, <span class="st">'West'</span>],</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'StoreID'</span>: [<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>],</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ProductCategory'</span>: [<span class="st">'Electronics'</span>, <span class="st">'Clothing'</span>, <span class="st">'Clothing'</span>, <span class="st">'Electronics'</span>, <span class="st">'Clothing'</span>, <span class="st">'Clothing'</span>, <span class="st">'Electronics'</span>, <span class="st">'Clothing'</span>, <span class="st">'Electronics'</span>, <span class="st">'Clothing'</span>],</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Sales'</span>: [<span class="dv">500</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">700</span>, <span class="dv">400</span>, <span class="dv">350</span>, <span class="dv">800</span>, <span class="dv">450</span>, <span class="dv">900</span>, <span class="dv">300</span>]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>})                                                                       <span class="co">#</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>retail_sales <span class="op">=</span> retail_sales.set_index([<span class="st">"Region"</span>, <span class="st">"StoreID"</span>])</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Retail Sales Dataset:</span><span class="ch">\n</span><span class="st">"</span>, retail_sales)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>total_sales <span class="op">=</span> retail_sales.groupby(level <span class="op">=</span> <span class="st">"Region"</span>)[<span class="st">"Sales"</span>].<span class="bu">sum</span>()</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Total Sales by Region:</span><span class="ch">\n</span><span class="st">"</span>, total_sales)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>average_sales <span class="op">=</span> retail_sales.groupby(level <span class="op">=</span> [<span class="st">"Region"</span>, <span class="st">"StoreID"</span>])[<span class="st">"Sales"</span>].mean()</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Average Sales by Store:</span><span class="ch">\n</span><span class="st">"</span>, average_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Retail Sales Dataset:
                ProductCategory  Sales
Region StoreID                       
North  1           Electronics    500
       1              Clothing    200
       2              Clothing    300
South  3           Electronics    700
       3              Clothing    400
       4              Clothing    350
East   5           Electronics    800
       5              Clothing    450
West   6           Electronics    900
       7              Clothing    300

Total Sales by Region:
 Region
East     1250
North    1000
South    1450
West     1200
Name: Sales, dtype: int64

Average Sales by Store:
 Region  StoreID
East    5          625.0
North   1          350.0
        2          300.0
South   3          550.0
        4          350.0
West    6          900.0
        7          300.0
Name: Sales, dtype: float64</code></pre>
</div>
</div>
<p><strong>Q3. You are given a DataFrame <code>df_orders</code> as follows:</strong></p>
<pre><code>df_orders = pd.DataFrame({
    'Category': ['Electronics', 'Electronics', 'Clothing', 'Clothing', 'Groceries', 'Groceries'],
    'Order_ID': ['O1', 'O2', 'O3', 'O4', 'O5', 'O6'],
    'Price': [1000, 500, 100, 200, 50, 60],
    'Discount': [50, 25, 10, 20, 5, 6],
    'Quantity': [1, 2, 3, 1, 4, 5]
})</code></pre>
<ul>
<li>Group the data by “<code>Category</code>” and compute:
<ul>
<li>Total revenue <code>(Price * Quantity)</code>.</li>
<li>Total discounts given<code>(Discount * Quantity)</code>.</li>
</ul></li>
<li>For each category find the followng:
<ul>
<li>The order with the highest revenue.</li>
<li>The average discount per order.</li>
</ul></li>
</ul>
<div id="cell-22" class="cell" data-outputid="bcdfe169-ea8a-4eb8-8048-e1ae115710b8" data-execution_count="95">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df_orders <span class="op">=</span> pd.DataFrame({</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Category'</span>: [<span class="st">'Electronics'</span>, <span class="st">'Electronics'</span>, <span class="st">'Clothing'</span>, <span class="st">'Clothing'</span>, <span class="st">'Groceries'</span>, <span class="st">'Groceries'</span>],</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Order_ID'</span>: [<span class="st">'O1'</span>, <span class="st">'O2'</span>, <span class="st">'O3'</span>, <span class="st">'O4'</span>, <span class="st">'O5'</span>, <span class="st">'O6'</span>],</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Price'</span>: [<span class="dv">1000</span>, <span class="dv">500</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">50</span>, <span class="dv">60</span>],</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Discount'</span>: [<span class="dv">50</span>, <span class="dv">25</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Quantity'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>df_orders[<span class="st">"Total_Price"</span>] <span class="op">=</span> df_orders[<span class="st">"Price"</span>] <span class="op">*</span> df_orders[<span class="st">"Quantity"</span>]</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>df_orders[<span class="st">"Total_Discount"</span>] <span class="op">=</span> df_orders[<span class="st">"Discount"</span>] <span class="op">*</span> df_orders[<span class="st">"Quantity"</span>]</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>grouped_df <span class="op">=</span> df_orders.groupby(<span class="st">"Category"</span>)[[<span class="st">"Total_Price"</span>,<span class="st">"Total_Discount"</span>]].<span class="bu">sum</span>()</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(grouped_df,<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>max_idx <span class="op">=</span> df_orders.groupby(<span class="st">"Category"</span>)[<span class="st">"Total_Price"</span>].idxmax()  <span class="co"># gives the index of the row which contains the max revenue in each category.      </span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>order_ids <span class="op">=</span> df_orders.loc[max_idx, [<span class="st">"Category"</span>, <span class="st">"Order_ID"</span>]]</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>order_ids <span class="op">=</span> order_ids.set_index(<span class="st">"Category"</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Order ids with the highest revenue for each category: </span><span class="ch">\n</span><span class="sc">{</span>order_ids<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>avg_discount <span class="op">=</span> df_orders.groupby(<span class="st">"Category"</span>)[<span class="st">"Total_Discount"</span>].mean()</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The average discount per order: </span><span class="sc">{</span>avg_discount<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Total_Price  Total_Discount
Category                                
Clothing             500              50
Electronics         2000             100
Groceries            500              50 

Order ids with the highest revenue for each category: 
            Order_ID
Category            
Clothing          O3
Electronics       O1
Groceries         O6

The average discount per order: Category
Clothing       25.0
Electronics    50.0
Groceries      25.0
Name: Total_Discount, dtype: float64</code></pre>
</div>
</div>
<section id="handling-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="handling-missing-data">4. Handling Missing Data</h2>
<p>You are provided with a dataset, <code>numeric_df</code>, containing numeric features from the Titanic dataset. Your task is to explore and handle the missing data systematically.</p>
<div id="cell-24" class="cell" data-execution_count="296">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the Titanic dataset</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> sns.load_dataset(<span class="st">'titanic'</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only numeric columns</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>numeric_df <span class="op">=</span> df.select_dtypes(include <span class="op">=</span> [<span class="st">'float64'</span>, <span class="st">'int64'</span>])</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Introducing missing values in the 'pclass' column</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">42</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>pclass_nan_indices <span class="op">=</span> np.random.choice(numeric_df.index, size <span class="op">=</span> <span class="bu">int</span>(<span class="fl">0.05</span> <span class="op">*</span> <span class="bu">len</span>(numeric_df)), replace <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>numeric_df.loc[pclass_nan_indices, <span class="st">'pclass'</span>] <span class="op">=</span> np.nan</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Introducing missing values in the 'parch' column</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>parch_nan_indices <span class="op">=</span> np.random.choice(numeric_df.index, size <span class="op">=</span> <span class="bu">int</span>(<span class="fl">0.70</span> <span class="op">*</span> <span class="bu">len</span>(numeric_df)), replace <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>numeric_df.loc[parch_nan_indices, <span class="st">'parch'</span>] <span class="op">=</span> np.nan</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Q1.</strong> <strong>Load and Inspect the Data</strong> - Run the cell below to get the dataset <code>numeric_df</code>. - Display the first 5 rows of the dataset. - Create a <strong>heatmap</strong> to visualize where the missing values occur. - Count the missing values in each column and report them (also, plot them). - Drop the column with more than 60 percent <code>NaN</code> values. Why?</p>
<div id="cell-26" class="cell" data-outputid="f30214d9-018c-4cca-b593-5c3ce4a73da5" data-execution_count="312">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The first 5 rows are : </span><span class="ch">\n</span><span class="sc">{</span>numeric_df<span class="sc">.</span>head(<span class="dv">5</span>)<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>heat_map <span class="op">=</span> sns.heatmap(numeric_df, cmap<span class="op">=</span><span class="st">"coolwarm"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.show()                                    <span class="co">#the missing values are the white strips</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#missing values</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>missing <span class="op">=</span> numeric_df.isnull().<span class="bu">sum</span>()</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>missing.plot(kind <span class="op">=</span> <span class="st">"bar"</span>, xlabel <span class="op">=</span> <span class="st">"Column Name"</span>, ylabel <span class="op">=</span> <span class="st">"No. of Missing Values"</span>, title <span class="op">=</span> <span class="st">"Missing Values in Each Column"</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">The missing values per column is :</span><span class="ch">\n</span><span class="sc">{</span>missing<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>perc_missing <span class="op">=</span> missing<span class="op">/</span><span class="bu">len</span>(numeric_df)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>dropped_df <span class="op">=</span> numeric_df.loc[:,perc_missing <span class="op">&lt;=</span> <span class="fl">0.6</span>]</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The dataframe after dropping columns with more than 60% NaN are : </span><span class="ch">\n</span><span class="sc">{</span>dropped_df<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="co">#It is a common rule in data cleaning as if we imputate columns with more 60% NaN values, then it may introduce biasness and inaccuracy</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The first 5 rows are : 
   survived  pclass   age  sibsp  parch     fare
0         0     3.0  22.0      1    0.0   7.2500
1         1     1.0  38.0      1    NaN  71.2833
2         1     3.0  26.0      0    NaN   7.9250
3         1     1.0  35.0      1    0.0  53.1000
4         0     3.0  35.0      0    0.0   8.0500
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-13-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The missing values per column is :
survived      0
pclass       44
age         177
sibsp         0
parch       623
fare          0
dtype: int64

The dataframe after dropping columns with more than 60% NaN are : 
     survived  pclass   age  sibsp     fare
0           0     3.0  22.0      1   7.2500
1           1     1.0  38.0      1  71.2833
2           1     3.0  26.0      0   7.9250
3           1     1.0  35.0      1  53.1000
4           0     3.0  35.0      0   8.0500
..        ...     ...   ...    ...      ...
886         0     NaN  27.0      0  13.0000
887         1     1.0  19.0      0  30.0000
888         0     3.0   NaN      1  23.4500
889         1     1.0  26.0      0  30.0000
890         0     3.0  32.0      0   7.7500

[891 rows x 5 columns]
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-13-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q2</strong> <strong>Handle Missing Values</strong> - For the <code>pclass</code> column, use <strong>mode imputation</strong> to fill the missing values. - Explain why mode imputation is appropriate for this column.</p>
<ul>
<li>How would you impute the values for the column <code>age</code>. Why?</li>
</ul>
<div id="cell-28" class="cell" data-outputid="ad6c585e-2881-44c4-a2b1-a57e6da4edd7" data-execution_count="449">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>means_before <span class="op">=</span> numeric_df.mean()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>mode_of_pclass <span class="op">=</span> numeric_df[<span class="st">"pclass"</span>].mode()[<span class="dv">0</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>numeric_df[<span class="st">"pclass"</span>] <span class="op">=</span> numeric_df[<span class="st">"pclass"</span>].fillna(mode_of_pclass)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numeric_df[<span class="st">"pclass"</span>])</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">#why mode imputation is appropriate for this column? .</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co">#The main reason to use "mode" imputation for the column pclass is as mode imputation retains the most frequent value and this reduces the distortion in our column pclass.</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#3rd subquestion answered on next cell</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0      3.0
1      1.0
2      3.0
3      1.0
4      3.0
      ... 
886    3.0
887    1.0
888    3.0
889    1.0
890    3.0
Name: pclass, Length: 891, dtype: float64</code></pre>
</div>
</div>
<div id="cell-29" class="cell" data-outputid="c2c6a1d1-cd4a-4a4c-9e89-fd03e6109a3b" data-execution_count="187">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now first plotting a histrogram of the column age to check if the distribution is skewed or normal</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>plt.hist(numeric_df[<span class="st">"age"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="187">
<pre><code>(array([ 54.,  46., 177., 169., 118.,  70.,  45.,  24.,   9.,   2.]),
 array([ 0.42 ,  8.378, 16.336, 24.294, 32.252, 40.21 , 48.168, 56.126,
        64.084, 72.042, 80.   ]),
 &lt;BarContainer object of 10 artists&gt;)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-15-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-30" class="cell" data-outputid="c206d4a0-5eba-4412-f1ba-52f14a96c255" data-execution_count="451">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#as seen the distrubution is somewhat normal (looking like a bell curve)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#therefore using the median imputation would be ideal the column "age", as it is mostly skewed by younger age poeple.</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>median_of_age <span class="op">=</span> numeric_df[<span class="st">"age"</span>].median()</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>numeric_df[<span class="st">"age"</span>] <span class="op">=</span> numeric_df[<span class="st">"age"</span>].fillna(median_of_age)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The imputed age column :</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>numeric_df[<span class="st">"age"</span>]<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The imputed age column :
 0      22.0
1      38.0
2      26.0
3      35.0
4      35.0
       ... 
886    27.0
887    19.0
888    28.0
889    26.0
890    32.0
Name: age, Length: 891, dtype: float64
</code></pre>
</div>
</div>
<p><strong>Q3</strong> <strong>Analyze Results</strong> - Compare the dataset before and after imputation: - Count the missing values after imputation. - Calculate the <strong>mean</strong> of all numeric columns before and after imputation.</p>
<div id="cell-32" class="cell" data-outputid="d7886c8f-80a9-4d88-ce46-019d881ac39c" data-execution_count="325">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>missing_val <span class="op">=</span> numeric_df.isnull().<span class="bu">sum</span>()</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Missing value: </span><span class="sc">{</span>missing_val<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>means_after <span class="op">=</span> numeric_df.mean()</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The means before imputation for all columns :</span><span class="ch">\n</span><span class="sc">{</span>means_before<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The means after imputation for all coumns : </span><span class="ch">\n</span><span class="sc">{</span>means_after<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing value: survived      0
pclass        0
age           0
sibsp         0
parch       623
fare          0
dtype: int64

The means before imputation for all columns :
survived     0.383838
pclass       2.340067
age         29.699118
sibsp        0.523008
parch        0.399254
fare        32.204208
dtype: float64

The means after imputation for all coumns : 
survived     0.383838
pclass       2.340067
age         29.361582
sibsp        0.523008
parch        0.399254
fare        32.204208
dtype: float64
</code></pre>
</div>
</div>
</section>
<section id="pandas-merging-joining-and-concatenation" class="level2">
<h2 class="anchored" data-anchor-id="pandas-merging-joining-and-concatenation">5. Pandas: Merging Joining and Concatenation</h2>
<p><strong>Q1.You have two DataFrames <code>df1</code> and <code>df2</code> where <code>df1</code> has a column <code>student_id</code> and <code>df2</code> has a column <code>student_id</code> along with <code>grade</code>, how would you merge these DataFrames on <code>student_id</code> to keep only the rows present in both DataFrames? Show output of the merge.</strong></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>data1 <span class="op">=</span> {</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> {</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'grade'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame(data1)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame(data2)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>::: {<span class="co">#cell-35 .cell outputId='9517ee49-2503-4a71-b5c2-0f0f62f4846f' execution_count=329}</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>``` {.python .cell<span class="op">-</span>code}</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>data1 <span class="op">=</span> {</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> {</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'grade'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame(data1)</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame(data2)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>pd.merge(df1, df2, how <span class="op">=</span> <span class="st">"outer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="329">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Alice</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Bob</td>
<td>A</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Charlie</td>
<td>B</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>David</td>
<td>C</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>NaN</td>
<td>D</td>
</tr>
</tbody>
</table>

</div>
</div>
<p>:::</p>
<p><strong>Q2.If you are provided with two DataFrames, employees and departments with <code>employee_id</code> as the index, how would you join them such that all rows from the employees DataFrame are kept, even if there is no matching department record? (you may assume employees have 2nd column as <code>employee_name</code> and departments have 2nd column as <code>department_name</code>, and randomly assign its data)</strong></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>employees_data <span class="op">=</span> {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>departments_data <span class="op">=</span> {</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_id'</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">1</span>],</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'department_name'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>employees <span class="op">=</span> pd.DataFrame(employees_data)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>departments <span class="op">=</span> pd.DataFrame(departments_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-37" class="cell" data-outputid="511fc865-ad71-4dd6-f9e9-b040698d10f5" data-execution_count="334">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>employees_data <span class="op">=</span> {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>departments_data <span class="op">=</span> {</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'employee_id'</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">1</span>],</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'department_name'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>employees <span class="op">=</span> pd.DataFrame(employees_data)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>departments <span class="op">=</span> pd.DataFrame(departments_data)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>pd.merge(employees, departments, how <span class="op">=</span> <span class="st">'left'</span>, on <span class="op">=</span> <span class="st">"employee_id"</span>)    <span class="co"># how = left  keeps the rows from the left dataframe and add the similar ones from the right.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="334">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">employee_id</th>
<th data-quarto-table-cell-role="th">employee_name</th>
<th data-quarto-table-cell-role="th">department_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Alice</td>
<td>D</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Bob</td>
<td>A</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Charlie</td>
<td>B</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>David</td>
<td>C</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Q3. Given two DataFrames <code>df_a</code> and <code>df_b</code> with the same columns, how would you concatenate them vertically, resetting the index so it starts from zero in the combined DataFrame? (you may assume both dataframes have 2 columns each, and randomly assign its data)</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> {</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> {</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Anish'</span>, <span class="st">'Divakar'</span>, <span class="st">'Vaibhav'</span>, <span class="st">'Tanvi'</span>]</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>df_a <span class="op">=</span> pd.DataFrame(df1)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>df_b <span class="op">=</span> pd.DataFrame(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-39" class="cell" data-outputid="8e8a4056-6c2f-4171-a932-f82d2343a14a" data-execution_count="337">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> {</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>]</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> {</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'student_id'</span>: [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: [<span class="st">'Anish'</span>, <span class="st">'Divakar'</span>, <span class="st">'Vaibhav'</span>, <span class="st">'Tanvi'</span>]</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>df_a <span class="op">=</span> pd.DataFrame(df1)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>df_b <span class="op">=</span> pd.DataFrame(df2)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>pd.concat([df_a, df_b], axis <span class="op">=</span> <span class="dv">0</span>, ignore_index <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="337">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Alice</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Bob</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Charlie</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>David</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>Anish</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6</td>
<td>Divakar</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7</td>
<td>Vaibhav</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8</td>
<td>Tanvi</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="pandas-advanced-operations-evaluation-and-query" class="level2">
<h2 class="anchored" data-anchor-id="pandas-advanced-operations-evaluation-and-query">6. Pandas: Advanced Operations (Evaluation and Query)</h2>
<p>You are provided with the dataset, <code>iris</code>, which contains information about iris flower species and their physical measurements. Your task is to use :</p>
<p><strong>Q1</strong> <strong>Pandas advanced operations</strong> such as evaluation (<code>eval</code>) and conditional querying (<code>query</code>) to analyze and extract insights from the dataset.</p>
<p><strong>Q2</strong> <strong>Load and Inspect the Data</strong> - Run <code>iris = sns.load_dataset('iris')</code> to load the dataset. - Display the first 5 rows of the dataset. - Print the summary statistics of the dataset.</p>
<div id="cell-42" class="cell" data-outputid="c4414106-cab4-419a-e5bc-2ae80ce48ee4" data-execution_count="339">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>iris <span class="op">=</span> sns.load_dataset(<span class="st">'iris'</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The first 5 row are : </span><span class="ch">\n</span><span class="sc">{</span>iris<span class="sc">.</span>head(<span class="dv">5</span>)<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">The descriptiona about iris is:</span><span class="ch">\n</span><span class="sc">{</span>iris<span class="sc">.</span>describe()<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The first 5 row are : 
   sepal_length  sepal_width  petal_length  petal_width species
0           5.1          3.5           1.4          0.2  setosa
1           4.9          3.0           1.4          0.2  setosa
2           4.7          3.2           1.3          0.2  setosa
3           4.6          3.1           1.5          0.2  setosa
4           5.0          3.6           1.4          0.2  setosa


The descriptiona about iris is:
       sepal_length  sepal_width  petal_length  petal_width
count    150.000000   150.000000    150.000000   150.000000
mean       5.843333     3.057333      3.758000     1.199333
std        0.828066     0.435866      1.765298     0.762238
min        4.300000     2.000000      1.000000     0.100000
25%        5.100000     2.800000      1.600000     0.300000
50%        5.800000     3.000000      4.350000     1.300000
75%        6.400000     3.300000      5.100000     1.800000
max        7.900000     4.400000      6.900000     2.500000
</code></pre>
</div>
</div>
<p><strong>Q3</strong> <strong>Filter the Data Using <code>query</code></strong> - Use the <code>query</code> method to: 1. Find all flowers with a <code>sepal_length</code>&gt; 6.5 and a <code>petal_length</code> &gt; 5. 2. Find all <code>virginica</code> flowers with a <code>petal_width</code> less than 2.</p>
<div id="cell-44" class="cell" data-outputid="e3f722f0-2cd4-4195-a52c-e3c0d8d2d9dc" data-execution_count="341">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>iris_1 <span class="op">=</span> iris.query(<span class="st">"sepal_length &gt; 6.5"</span> <span class="kw">and</span> <span class="st">"petal_length &gt;5"</span> <span class="kw">and</span> <span class="st">"petal_width &lt; 2"</span> <span class="kw">and</span> <span class="st">"species == 'virginica' "</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>iris_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="341">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">sepal_length</th>
<th data-quarto-table-cell-role="th">sepal_width</th>
<th data-quarto-table-cell-role="th">petal_length</th>
<th data-quarto-table-cell-role="th">petal_width</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">100</td>
<td>6.3</td>
<td>3.3</td>
<td>6.0</td>
<td>2.5</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101</td>
<td>5.8</td>
<td>2.7</td>
<td>5.1</td>
<td>1.9</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">102</td>
<td>7.1</td>
<td>3.0</td>
<td>5.9</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">103</td>
<td>6.3</td>
<td>2.9</td>
<td>5.6</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">104</td>
<td>6.5</td>
<td>3.0</td>
<td>5.8</td>
<td>2.2</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105</td>
<td>7.6</td>
<td>3.0</td>
<td>6.6</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">106</td>
<td>4.9</td>
<td>2.5</td>
<td>4.5</td>
<td>1.7</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">107</td>
<td>7.3</td>
<td>2.9</td>
<td>6.3</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">108</td>
<td>6.7</td>
<td>2.5</td>
<td>5.8</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>7.2</td>
<td>3.6</td>
<td>6.1</td>
<td>2.5</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">110</td>
<td>6.5</td>
<td>3.2</td>
<td>5.1</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">111</td>
<td>6.4</td>
<td>2.7</td>
<td>5.3</td>
<td>1.9</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">112</td>
<td>6.8</td>
<td>3.0</td>
<td>5.5</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">113</td>
<td>5.7</td>
<td>2.5</td>
<td>5.0</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">114</td>
<td>5.8</td>
<td>2.8</td>
<td>5.1</td>
<td>2.4</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">115</td>
<td>6.4</td>
<td>3.2</td>
<td>5.3</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">116</td>
<td>6.5</td>
<td>3.0</td>
<td>5.5</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">117</td>
<td>7.7</td>
<td>3.8</td>
<td>6.7</td>
<td>2.2</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">118</td>
<td>7.7</td>
<td>2.6</td>
<td>6.9</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">119</td>
<td>6.0</td>
<td>2.2</td>
<td>5.0</td>
<td>1.5</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">120</td>
<td>6.9</td>
<td>3.2</td>
<td>5.7</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">121</td>
<td>5.6</td>
<td>2.8</td>
<td>4.9</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">122</td>
<td>7.7</td>
<td>2.8</td>
<td>6.7</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">123</td>
<td>6.3</td>
<td>2.7</td>
<td>4.9</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">124</td>
<td>6.7</td>
<td>3.3</td>
<td>5.7</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">125</td>
<td>7.2</td>
<td>3.2</td>
<td>6.0</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">126</td>
<td>6.2</td>
<td>2.8</td>
<td>4.8</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">127</td>
<td>6.1</td>
<td>3.0</td>
<td>4.9</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">128</td>
<td>6.4</td>
<td>2.8</td>
<td>5.6</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">129</td>
<td>7.2</td>
<td>3.0</td>
<td>5.8</td>
<td>1.6</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">130</td>
<td>7.4</td>
<td>2.8</td>
<td>6.1</td>
<td>1.9</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">131</td>
<td>7.9</td>
<td>3.8</td>
<td>6.4</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">132</td>
<td>6.4</td>
<td>2.8</td>
<td>5.6</td>
<td>2.2</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">133</td>
<td>6.3</td>
<td>2.8</td>
<td>5.1</td>
<td>1.5</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">134</td>
<td>6.1</td>
<td>2.6</td>
<td>5.6</td>
<td>1.4</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">135</td>
<td>7.7</td>
<td>3.0</td>
<td>6.1</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">136</td>
<td>6.3</td>
<td>3.4</td>
<td>5.6</td>
<td>2.4</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">137</td>
<td>6.4</td>
<td>3.1</td>
<td>5.5</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">138</td>
<td>6.0</td>
<td>3.0</td>
<td>4.8</td>
<td>1.8</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">139</td>
<td>6.9</td>
<td>3.1</td>
<td>5.4</td>
<td>2.1</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">140</td>
<td>6.7</td>
<td>3.1</td>
<td>5.6</td>
<td>2.4</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">141</td>
<td>6.9</td>
<td>3.1</td>
<td>5.1</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">142</td>
<td>5.8</td>
<td>2.7</td>
<td>5.1</td>
<td>1.9</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">143</td>
<td>6.8</td>
<td>3.2</td>
<td>5.9</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">144</td>
<td>6.7</td>
<td>3.3</td>
<td>5.7</td>
<td>2.5</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">145</td>
<td>6.7</td>
<td>3.0</td>
<td>5.2</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">146</td>
<td>6.3</td>
<td>2.5</td>
<td>5.0</td>
<td>1.9</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">147</td>
<td>6.5</td>
<td>3.0</td>
<td>5.2</td>
<td>2.0</td>
<td>virginica</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>6.2</td>
<td>3.4</td>
<td>5.4</td>
<td>2.3</td>
<td>virginica</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>5.9</td>
<td>3.0</td>
<td>5.1</td>
<td>1.8</td>
<td>virginica</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Q4</strong> <strong>Use <code>eval</code> for Calculations</strong> - Create a new column <code>petal_area</code> using the formula:<br>
<code>petal_area = petal_length * petal_width</code> - Display the top 5 flowers with the largest <code>petal_area</code>. - Use <code>query</code> to filter flowers that meet the following conditions: - <code>petal_area</code> &gt; 10 - <code>sepal_length</code> is in the range 5 to 7.</p>
<div id="cell-46" class="cell" data-outputid="7a57273c-657c-4d87-9808-976317890b80" data-execution_count="344">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>iris.<span class="bu">eval</span>(<span class="st">'petal_area = (petal_length*petal_width)'</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>top_5_flowers <span class="op">=</span> iris.sort_values(by <span class="op">=</span> <span class="st">'petal_area'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">5</span>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>top_5_flowers</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co">#next sub-question done in next cell as "top_5_flowers" werent being displayed properly using print</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="344">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">sepal_length</th>
<th data-quarto-table-cell-role="th">sepal_width</th>
<th data-quarto-table-cell-role="th">petal_length</th>
<th data-quarto-table-cell-role="th">petal_width</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">petal_area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">118</td>
<td>7.7</td>
<td>2.6</td>
<td>6.9</td>
<td>2.3</td>
<td>virginica</td>
<td>15.87</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>7.2</td>
<td>3.6</td>
<td>6.1</td>
<td>2.5</td>
<td>virginica</td>
<td>15.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">100</td>
<td>6.3</td>
<td>3.3</td>
<td>6.0</td>
<td>2.5</td>
<td>virginica</td>
<td>15.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">117</td>
<td>7.7</td>
<td>3.8</td>
<td>6.7</td>
<td>2.2</td>
<td>virginica</td>
<td>14.74</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">144</td>
<td>6.7</td>
<td>3.3</td>
<td>5.7</td>
<td>2.5</td>
<td>virginica</td>
<td>14.25</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-47" class="cell" data-outputid="e62ae7ce-8545-42d2-8e3b-e46e37df93fe">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>filtered_iris <span class="op">=</span> iris.query(<span class="st">"petal_area &gt; 10"</span> <span class="kw">and</span> <span class="st">" 5 &lt;= sepal_length &lt;= 7"</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>filtered_iris</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="617">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">sepal_length</th>
<th data-quarto-table-cell-role="th">sepal_width</th>
<th data-quarto-table-cell-role="th">petal_length</th>
<th data-quarto-table-cell-role="th">petal_width</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">petal_area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>5.1</td>
<td>3.5</td>
<td>1.4</td>
<td>0.2</td>
<td>setosa</td>
<td>0.28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>3.6</td>
<td>1.4</td>
<td>0.2</td>
<td>setosa</td>
<td>0.28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>5.4</td>
<td>3.9</td>
<td>1.7</td>
<td>0.4</td>
<td>setosa</td>
<td>0.68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>5.0</td>
<td>3.4</td>
<td>1.5</td>
<td>0.2</td>
<td>setosa</td>
<td>0.30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>5.4</td>
<td>3.7</td>
<td>1.5</td>
<td>0.2</td>
<td>setosa</td>
<td>0.30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">145</td>
<td>6.7</td>
<td>3.0</td>
<td>5.2</td>
<td>2.3</td>
<td>virginica</td>
<td>11.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">146</td>
<td>6.3</td>
<td>2.5</td>
<td>5.0</td>
<td>1.9</td>
<td>virginica</td>
<td>9.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">147</td>
<td>6.5</td>
<td>3.0</td>
<td>5.2</td>
<td>2.0</td>
<td>virginica</td>
<td>10.40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">148</td>
<td>6.2</td>
<td>3.4</td>
<td>5.4</td>
<td>2.3</td>
<td>virginica</td>
<td>12.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">149</td>
<td>5.9</td>
<td>3.0</td>
<td>5.1</td>
<td>1.8</td>
<td>virginica</td>
<td>9.18</td>
</tr>
</tbody>
</table>

<p>116 rows × 6 columns</p>
</div>
</div>
</div>
<p><strong>Q5</strong> <strong>Analyze and Visualize</strong> - Perform a group-wise analysis: 1. Calculate the <strong>average petal length</strong> for each species. 2. Find the <strong>count of flowers</strong> for each species. 3. Create a scatter plot of <code>sepal_length</code> vs.&nbsp;<code>petal_length</code>, colored by species.</p>
<div id="cell-49" class="cell" data-outputid="1f119170-19d9-4a9c-8409-455217b099bf" data-execution_count="346">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>average_petal_length <span class="op">=</span> iris.groupby(<span class="st">"species"</span>)[<span class="st">"petal_length"</span>].mean()</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>count_flowers <span class="op">=</span> iris.groupby(<span class="st">"species"</span>).size()</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The average petal length for each species: </span><span class="ch">\n</span><span class="sc">{</span>average_petal_length<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The count of each flower: </span><span class="ch">\n</span><span class="sc">{</span>count_flowers<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co">#scatterplot</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> iris[<span class="st">'sepal_length'</span>], y <span class="op">=</span> iris[<span class="st">'petal_length'</span>], hue <span class="op">=</span> iris[<span class="st">"species"</span>])     <span class="co">#used seaborn as matplotlib doesnt have hue argument</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Sepal Length'</span>)</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Petal Length'</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Sepal Length vs. Petal Length'</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The average petal length for each species: 
species
setosa        1.462
versicolor    4.260
virginica     5.552
Name: petal_length, dtype: float64

The count of each flower: 
species
setosa        50
versicolor    50
virginica     50
dtype: int64
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-25-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="matplotlib-basic-plotting-questions" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib-basic-plotting-questions">7. Matplotlib: Basic Plotting Questions</h2>
<p><strong>Q1. Line Plot</strong></p>
<p>Plot a sine wave ((y = sin(x))) for (x in [0, 2π]). Customize the plot by: 1. Adding a title to the graph. 2. Adding labels for the x-axis and y-axis. 3. Displaying a grid.</p>
<div id="cell-52" class="cell" data-outputid="0143fdac-eac2-4a5b-c130-f3a30906f9a0" data-execution_count="348">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>fig, ax  <span class="op">=</span> plt.subplots()</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>angles <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">10000</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>sin_fn <span class="op">=</span> np.sin(angles)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>ax.plot(angles, sin_fn, color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sine Wave"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Angles"</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Sine values"</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-26-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q2. Multiple Line Plots</strong></p>
<p>Plot the following functions on the same graph for (x ): 1. (y_1 = sin(x)) 2. (y_2 = cos(x))</p>
<p>Customize the graph by: - Using different colors and line styles for each function. - Adding a legend to identify the curves.</p>
<div id="cell-54" class="cell" data-outputid="acccbb9a-48cc-4a66-85ea-cd5c0ba7a6b8" data-execution_count="353">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>fig, ax  <span class="op">=</span> plt.subplots()</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>angles <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">10000</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>sin_fn <span class="op">=</span> np.sin(angles)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>cos_fn <span class="op">=</span> np.cos(angles)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>ax.plot(angles, sin_fn, label <span class="op">=</span> <span class="st">"$sin(x)$"</span>, linestyle <span class="op">=</span> <span class="st">"-"</span>, color <span class="op">=</span> <span class="st">'b'</span>)</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>ax.plot(angles, cos_fn, label <span class="op">=</span> <span class="st">"$cos(x)$"</span>, linestyle <span class="op">=</span> <span class="st">"--"</span>, color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sine and Cosine Waves"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Angles"</span>)</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Sine and cosine values"</span>)</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>ax.legend(bbox_to_anchor <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">1</span>), title <span class="op">=</span> <span class="st">"Functions"</span>)                         <span class="co"># bbox_to_anchor = (1, 1) to display legend outside the plot.</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-27-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q3. Plot Customization</strong></p>
<p>Plot the function (y = x^2) for (x ).<br>
Customize the plot by: 1. Adding a title and axis labels. 2. Changing the line style, color, and thickness. 3. Adjusting the axis limits to make the graph more visually appealing.</p>
<div id="cell-56" class="cell" data-outputid="1c0b0e34-81b4-4575-b31d-ada597693b4d" data-execution_count="378">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>fig, ax  <span class="op">=</span> plt.subplots()</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">1000</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>ax.plot(x, y, linestyle <span class="op">=</span> <span class="st">"-."</span>, linewidth <span class="op">=</span> <span class="dv">4</span>, color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Plot of $y = x^2$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$x$'</span>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'$y^2$'</span>)</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="op">-</span><span class="dv">5</span>, <span class="dv">110</span>)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-28-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="a.-bar-plot" class="level2">
<h2 class="anchored" data-anchor-id="a.-bar-plot">8a. Bar Plot</h2>
<p><strong>Q1</strong> <strong>You are provided with the <code>tips</code> dataset. Your task is to create a </strong>bar plot** using Matplotlib.**</p>
<ul>
<li><p>Load the <code>tips</code> dataset using Seaborn:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> sns.load_dataset(<span class="st">'tips'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Create a bar plot showing the average tip for each day of the week. Label the x-axis as Day, the y-axis as Average Tip, and add a title: “Average Tip by Day”.</p></li>
<li><p>Based on the bar plot, which day has the highest average tip?</p></li>
</ul>
<div id="cell-59" class="cell" data-outputid="da71211c-c548-4eaa-edad-4201d2562dd8" data-execution_count="383">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> sns.load_dataset(<span class="st">'tips'</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>average_tips <span class="op">=</span> tips.groupby(<span class="st">"day"</span>).tip.mean()</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> average_tips.plot(kind<span class="op">=</span><span class="st">'bar'</span>, color<span class="op">=</span><span class="st">'skyblue'</span>, edgecolor <span class="op">=</span> <span class="st">'k'</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>), xlabel<span class="op">=</span><span class="st">'Day'</span>, ylabel<span class="op">=</span><span class="st">'Average tips'</span>, title<span class="op">=</span><span class="st">'Average Tips on Each Day'</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The day which ahs the highest average tip is: </span><span class="sc">{</span>average_tips<span class="sc">.</span>idxmax()<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The day which ahs the highest average tip is: Sun
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-29-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Based on the bar-plot above the <strong>Sunday</strong> has the highest average tip</p>
</section>
<section id="b.-scatter-plot" class="level2">
<h2 class="anchored" data-anchor-id="b.-scatter-plot">8b. Scatter Plot</h2>
<p><strong>Q1. You are provided with the <code>tips</code> dataset. Your task is to create a scatter plot using Matplotlib.</strong></p>
<ul>
<li><p>Load the <code>tips</code> dataset using Seaborn:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> sns.load_dataset(<span class="st">'tips'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Create a scatter plot with total_bill on the x-axis and tip on the y-axis.</p></li>
<li><p>Label the x-axis as Total Bill, the y-axis as Tip, and add a title: “Relationship between Total Bill and Tip”.</p></li>
<li><p>Based on the scatter plot, do you observe any relationship between total_bill and tip?</p></li>
</ul>
<div id="cell-63" class="cell" data-outputid="164275bf-5846-4a64-b4e6-bc21cedaa746" data-execution_count="390">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> sns.load_dataset(<span class="st">'tips'</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>tips.plot.scatter(x<span class="op">=</span><span class="st">'total_bill'</span>, y<span class="op">=</span><span class="st">'tip'</span>, c<span class="op">=</span><span class="st">'size'</span>,colormap <span class="op">=</span> <span class="st">'viridis'</span>, s <span class="op">=</span> tips[<span class="st">'size'</span>]<span class="op">*</span><span class="dv">10</span>, ax <span class="op">=</span> ax, xlabel <span class="op">=</span> <span class="st">"Total bill"</span>, ylabel <span class="op">=</span> <span class="st">"Tip"</span>,title <span class="op">=</span> <span class="st">"Relationship between Total Bill and Tip"</span>)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-30-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>There appears to be a positive relationship between <code>total_bill</code> and <code>tip</code>. As the total bill increases, the tip generally tends to increase as well. However, the relationship <strong>does not appear to be perfectly linear</strong>, and there is some <strong>variability</strong> in the amount of tip given for a given total bill</p>
</section>
<section id="matplotlib-subplots-and-layouts" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib-subplots-and-layouts">9. Matplotlib: Subplots and Layouts</h2>
<p><strong>Q1. Create a 2x2 grid of subplots with:</strong> - Subplot (1,1): Plot y = sin(x). - Subplot (1,2): Plot y = cos(x) . - Subplot (2,1): Plot y = e<sup>−x</sup> - Subplot (2,2): Plot y=ln(x) for x∈[0.1,2].</p>
<p>Customize background colors, add unique x and y labels, and set titles.</p>
<div id="cell-67" class="cell" data-outputid="bd6541ab-642a-4e11-f4c1-b0b2932a440b" data-execution_count="418">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>x_1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">10000</span>)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>y_1 <span class="op">=</span> np.sin(x_1)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>x_2 <span class="op">=</span> np.linspace(<span class="fl">0.1</span>, <span class="dv">2</span>, <span class="dv">10000</span>)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>y_2 <span class="op">=</span> np.cos(x_1)</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>y_3 <span class="op">=</span> np.exp(<span class="op">-</span>(x_1))</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>y_4 <span class="op">=</span> np.log(x_2)</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].plot(x_1, y_1, color <span class="op">=</span> <span class="st">'C0'</span>)</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_title(<span class="st">"$sin(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_ylabel(<span class="st">"$sin(x)$"</span>)</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_facecolor(<span class="st">'lightyellow'</span>)</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].plot(x_1, y_2, color <span class="op">=</span> <span class="st">'C1'</span>)</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_title(<span class="st">"$cos(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_ylabel(<span class="st">"$cos(x)$"</span>)</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_facecolor(<span class="st">'lightblue'</span>)</span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].plot(x_1, y_3, color <span class="op">=</span> <span class="st">'C2'</span>)</span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_title(<span class="st">"$e^{-x}$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_ylabel(<span class="st">"$e^{-x}$"</span>)</span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_facecolor(<span class="st">'orange'</span>)</span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].plot(x_2, y_4, color <span class="op">=</span> <span class="st">'C3'</span>)</span>
<span id="cb58-33"><a href="#cb58-33" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_title(<span class="st">"$log(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb58-34"><a href="#cb58-34" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb58-35"><a href="#cb58-35" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_ylabel(<span class="st">"$log(x)$"</span>)</span>
<span id="cb58-36"><a href="#cb58-36" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_facecolor(<span class="st">'lightgreen'</span>)</span>
<span id="cb58-37"><a href="#cb58-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-38"><a href="#cb58-38" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-31-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q2. Create a subplot within another subplot:</strong> - Main subplot: Display a scatter plot of 100 random points with x and y values between 0 and 1. - Inset subplot: Display a histogram of the x-values from the scatter plot.</p>
<div id="cell-69" class="cell" data-outputid="8eb7e94b-21c2-496c-c945-a0c7f0f855c3" data-execution_count="421">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>fig, main_ax <span class="op">=</span> plt.subplots()</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>arr_x <span class="op">=</span> np.random.rand(<span class="dv">100</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>arr_y <span class="op">=</span> np.random.rand(<span class="dv">100</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> arr_x</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>main_ax.scatter(arr_x, arr_y, c <span class="op">=</span> colors, cmap <span class="op">=</span> <span class="st">"viridis"</span>)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>main_ax.set_title(<span class="st">"Scatter Plot of Random Numbers"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>inset_ax <span class="op">=</span> fig.add_axes([<span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>])</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>inset_ax.hist(arr_x, bins <span class="op">=</span> <span class="dv">50</span>, color <span class="op">=</span> <span class="st">'r'</span>, edgecolor <span class="op">=</span> <span class="st">'k'</span>)</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>inset_ax.set_title(<span class="st">"Histogram of X Values"</span>)</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-32-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q3. Create a Layout with One Large and Two Smaller Subplots</strong></p>
<ul>
<li><p>Design a large subplot occupying the top two-thirds of the figure and plot ( y = sin(x) ) and ( y = cos(x) ) on the same graph.</p></li>
<li><p>Create two smaller subplots in the bottom row:</p>
<ul>
<li>On the left, plot y =x<sup>2</sup>.<br>
</li>
<li>On the right, plot y = e<sup>x</sup>.</li>
</ul></li>
</ul>
<p>Ensure each subplot has appropriate titles, axis labels, and legends where necessary. Use a clean layout that avoids overlapping elements.</p>
<div id="cell-71" class="cell" data-outputid="bb1b8e9f-59f3-43ef-d297-da9dfb9679ec" data-execution_count="429">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>fig_1, ax <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>angles <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">10000</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>                    </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>sin_fn <span class="op">=</span> np.sin(angles)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>cos_fn <span class="op">=</span> np.cos(angles)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>ax.plot(angles, sin_fn, label <span class="op">=</span> <span class="st">"$sin(x)$"</span>, color <span class="op">=</span> <span class="st">'b'</span>)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>ax.plot(angles, cos_fn, label <span class="op">=</span> <span class="st">"$cos(x)$"</span>, color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Sine and Cosine Waves"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>ax.legend(bbox_to_anchor <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">1</span>), title <span class="op">=</span> <span class="st">"Functions"</span>)</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>fig, ax_2 <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10000</span>)</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>y_1 <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>y_2 <span class="op">=</span> np.exp(x)</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">0</span>].plot(x, y_1, color <span class="op">=</span> <span class="st">'k'</span>)</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">0</span>].set_title(<span class="st">"$y=x^2$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">0</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">0</span>].set_ylabel(<span class="st">"$x^2$"</span>)</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">1</span>].plot(x, y_2, color <span class="op">=</span> <span class="st">'C0'</span>)</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">1</span>].set_title(<span class="st">"$y=e^x$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">1</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>ax_2[<span class="dv">1</span>].set_ylabel(<span class="st">"$e^x$"</span>)</span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-33-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-33-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="matplotlib-advanced-customization" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib-advanced-customization">10. Matplotlib: Advanced Customization</h2>
<p><strong>Q1. Customizing Axes and Ticks</strong></p>
<p>Create a line plot for y = x^2 in the range -10 to 10. Customize the axes and ticks: 1. Set x-axis range to -10 to 10. 2. Set y-axis range to 0 to 100. 3. Use custom tick marks at intervals of 2 for x-axis and 10 for y-axis. 4. Rotate x-axis tick labels by 45 degrees.</p>
<div id="cell-74" class="cell" data-outputid="19259f21-ac00-472c-ca5e-b2af68e120d5" data-execution_count="433">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>fig, ax  <span class="op">=</span> plt.subplots()</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>ax.plot(x, y, linewidth <span class="op">=</span> <span class="dv">2</span>, color <span class="op">=</span> <span class="st">'r'</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Plot of $y = x^2$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>ax.set_xticks(np.arange(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">2</span>))</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>ax.set_yticks(np.arange(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">10</span>))</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>ax.tick_params(axis <span class="op">=</span> <span class="st">'x'</span>, rotation <span class="op">=</span> <span class="dv">45</span>)</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$x$'</span>)</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'$y^2$'</span>)</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-34-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q2. Multiple Subplots with Shared Legend and Grid Customization</strong></p>
<p>Create a figure with four subplots (2x2 grid) showing different trigonometric functions: 1. Top-left: y = sin(x) 2. Top-right: y = cos(x) 3. Bottom-left: y = tan(x) (restrict x to avoid undefined regions). 4. Bottom-right: y = sin^2(x) + cos^2(x) (should always equal 1).</p>
<div id="cell-76" class="cell" data-outputid="c3635b43-30c8-4eaa-d101-fbcf53dc011b" data-execution_count="436">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>x_1 <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">10000</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>y_1 <span class="op">=</span> np.sin(x_1)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>y_2 <span class="op">=</span> np.cos(x_1)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>y_3 <span class="op">=</span> np.tan(x_1)</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>y_4 <span class="op">=</span> (np.sin(x_1))<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> (np.cos(x_1))<span class="op">**</span><span class="dv">2</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].plot(x_1, y_1, color <span class="op">=</span> <span class="st">'C0'</span>)</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_title(<span class="st">"$sin(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">0</span>].set_ylabel(<span class="st">"$sin(x)$"</span>)</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].plot(x_1, y_2, color <span class="op">=</span> <span class="st">'C1'</span>)</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_title(<span class="st">"$cos(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>, <span class="dv">1</span>].set_ylabel(<span class="st">"$cos(x)$"</span>)</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_ylim(<span class="op">-</span><span class="dv">20</span>, <span class="dv">20</span>)</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].plot(x_1, y_3, color <span class="op">=</span> <span class="st">'C2'</span>)</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_title(<span class="st">"$tan(x)$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">0</span>].set_ylabel(<span class="st">"$tan(x)$"</span>)</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>,<span class="dv">0</span>].set_xlim(<span class="op">-</span>np.pi<span class="op">/</span><span class="dv">2</span>,np.pi<span class="op">/</span><span class="dv">2</span>)   <span class="co">#bound from -pi/2 to pi/2 to avoid the discontinuity </span></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].plot(x_1, y_4, color <span class="op">=</span> <span class="st">'C3'</span>)</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_title(<span class="st">"${sin(x)}^2 + {cos(x)}^2$"</span>, fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_xlabel(<span class="st">"$x$"</span>)</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>, <span class="dv">1</span>].set_ylabel(<span class="st">"${sin(x)}^2 + {cos(x)}^2$"</span>)</span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-35-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q3. Subplots and Shared Axes</strong></p>
<p>Create two subplots side-by-side: 1. Bar chart for sales (random data) from January to June. 2. Line chart for cumulative sales. Share the y-axis and add titles, a common x-axis label, and a grid for the second plot.</p>
<div id="cell-78" class="cell" data-execution_count="439">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#using example csv file named sales_data.csv</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>sales_df <span class="op">=</span> pd.read_csv (<span class="st">"sales_data.csv"</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>cum_sales <span class="op">=</span> np.cumsum(sales_df[<span class="st">"Sales"</span>])</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">2</span>,sharey <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].bar(sales_df[<span class="st">"Month"</span>],sales_df[<span class="st">"Sales"</span>])</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xticklabels(sales_df[<span class="st">"Month"</span>],rotation <span class="op">=</span> <span class="op">-</span><span class="dv">45</span>)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].grid(<span class="va">True</span>)</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"SALES"</span>)</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].plot(sales_df[<span class="st">"Month"</span>],cum_sales)</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xticklabels(sales_df[<span class="st">"Month"</span>],rotation <span class="op">=</span> <span class="op">-</span><span class="dv">45</span>)</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].grid(<span class="va">True</span>)</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>fig.supxlabel(<span class="st">"MONTHS"</span>)</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-36-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q4. Adding Annotations</strong></p>
<p>Create a scatter plot of 10 random points: 1. Annotate the point with the max y-coordinate with a red star and text label. 2. Customize marker size and color for all points.</p>
<div id="cell-80" class="cell" data-outputid="eb1adbef-7ec1-498f-ca37-f316e4e7e80d" data-execution_count="447">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.random.rand(<span class="dv">10</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.random.rand(<span class="dv">10</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>ax.scatter(x, y, color <span class="op">=</span> <span class="st">'b'</span>, marker <span class="op">=</span> <span class="st">'o'</span>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>max_y_ind <span class="op">=</span> np.argmax(y)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>max_y_coordinate <span class="op">=</span> y[max_y_ind]</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>max_x_coordinate <span class="op">=</span> x[max_y_ind]</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>ax.scatter(max_x_coordinate, max_y_coordinate, color <span class="op">=</span> <span class="st">'r'</span>, marker <span class="op">=</span> <span class="st">'*'</span>, s <span class="op">=</span> <span class="dv">200</span>)</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>ax.text(max_x_coordinate, max_y_coordinate, <span class="ss">f"(</span><span class="sc">{</span>max_x_coordinate<span class="sc">:.2f}</span><span class="ss">, </span><span class="sc">{</span>max_y_coordinate<span class="sc">:.2f}</span><span class="ss">)"</span>, fontsize<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'red'</span>, ha<span class="op">=</span><span class="st">'left'</span>, va<span class="op">=</span><span class="st">'bottom'</span>)</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-37-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q5. Creating a Custom Colormap</strong></p>
<p>Generate a heatmap for a 5x5 matrix of random numbers between 0 and 1: 1. Use a custom colormap (blue to red). 2. Add a color bar and display exact cell values rounded to 2 decimals.</p>
<div id="cell-82" class="cell" data-outputid="6fcd662d-54fa-4089-f1e9-588fb0c9e6aa" data-execution_count="262">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> np.random.rand(<span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>customized_cmap <span class="op">=</span> LinearSegmentedColormap.from_list(<span class="st">"blue_rea"</span>, [<span class="st">"blue"</span>, <span class="st">"red"</span>])</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(matrix, cmap <span class="op">=</span> customized_cmap, annot <span class="op">=</span> <span class="va">True</span>, fmt <span class="op">=</span> <span class="st">'.2f'</span>, square <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Heatmap for Random Numbers"</span>, fontsize <span class="op">=</span>  <span class="dv">14</span>)</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a><span class="co"># im = ax.imshow(matrix, cmap = customized_cmap)</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="co"># fig.colorbar(im, ax = ax)</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="co"># for i in range(5):</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     for j in range(5):</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         ax.text(j, i, f'{matrix[i, j]:.2f}', ha='center', va='center', color='black', fontsize=10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-38-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q6. Customization of 3D Plot</strong></p>
<p>Using Matplotlib’s mpl_toolkits.mplot3d, create a 3D surface plot for the function: z = sin(sqrt(x^2 + y^2))</p>
<p>Requirements: 1. Generate x and y values in the range -5 to 5 using a meshgrid. 2. Use a custom colormap that highlights peaks and valleys (e.g., <code>coolwarm</code>). 3. Add a color bar with a label “Amplitude”. 4. Add labels for all three axes and a title. 5. Rotate the 3D plot to a custom viewing angle using ax.view_init.</p>
<div id="cell-84" class="cell" data-outputid="dd6a4750-4725-4aba-a8a3-df880b03b4b0" data-execution_count="242">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(subplot_kw <span class="op">=</span> {<span class="st">"projection"</span>: <span class="st">"3d"</span>})</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>X, Y <span class="op">=</span> np.meshgrid(x,y)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>Z <span class="op">=</span> np.sin((X<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> Y<span class="op">**</span><span class="dv">2</span>)<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">2</span>))</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>surface <span class="op">=</span> ax.plot_surface(X, Y, Z, cmap <span class="op">=</span> <span class="st">'coolwarm'</span>)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'3D Plot'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>ax.set_zlabel(<span class="st">'Z-axis'</span>)</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>ax.view_init(azim <span class="op">=</span> <span class="dv">15</span>)</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>fig.colorbar(surface, label <span class="op">=</span> <span class="st">"Amplitude"</span>, pad <span class="op">=</span> <span class="fl">0.2</span>)</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-39-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="extra-questions" class="level2">
<h2 class="anchored" data-anchor-id="extra-questions">EXTRA QUESTIONS</h2>
</section>
<section id="definition-of-a-partition" class="level2">
<h2 class="anchored" data-anchor-id="definition-of-a-partition">Definition of a Partition</h2>
<p>A collection of sets \({A_1, , A_n}\) is a <strong>partition</strong> of the universal set \(\) if it satisfies the following conditions:</p>
<ul>
<li><strong>Non-overlap</strong>: \({A_1, , A_n}\) is disjoint.</li>
<li><strong>Decompose</strong>: \(A_1 A_2 A_n = \).</li>
</ul>
<hr>
</section>
<section id="important-laws" class="level2">
<h2 class="anchored" data-anchor-id="important-laws">Important Laws</h2>
<section id="distributive-how-to-mix-union-and-intersection" class="level3">
<h3 class="anchored" data-anchor-id="distributive-how-to-mix-union-and-intersection">Distributive (How to mix union and intersection)</h3>
<p><span class="math display">\[
A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
\]</span></p>
<p><span class="math display">\[
A \cup (B \cap C) = (A \cup B) \cap (A \cup C)
\]</span></p>
<hr>
</section>
<section id="de-morgans-law-how-to-complement-over-intersection-and-union" class="level3">
<h3 class="anchored" data-anchor-id="de-morgans-law-how-to-complement-over-intersection-and-union">De Morgan’s Law (How to complement over intersection and union)</h3>
<p><span class="math display">\[
(A \cap B)^c = A^c \cup B^c
\]</span></p>
<p><span class="math display">\[
(A \cup B)^c = A^c \cap B^c
\]</span></p>
<p><strong>Question 1: Function to Check Partition</strong><br>
Write a Python function to check if a given list of sets is a partition of a universal set. The function should take the universal set and the list of sets as arguments and verify the following conditions: 1. The union of all subsets in the list equals the universal set. 2. The subsets are pairwise disjoint.</p>
<p>Write your function and test it with an example.</p>
<div id="cell-88" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> is_partition(sets, universal_set) : </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    union_of_sets <span class="op">=</span> <span class="bu">set</span>().union(<span class="op">*</span>sets)       <span class="co">#Union of all sets in the list</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> union_of_sets <span class="op">!=</span> universal_set:       <span class="co">#This will check the first required condition</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span> </span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(sets)):</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(sets)):</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">len</span>(np.intersect1d(sets[i], sets[j])) <span class="op">!=</span> <span class="dv">0</span> <span class="kw">and</span> i <span class="op">!=</span> j:  <span class="co">#This will check the second condition and will return false as soon as any pair of sets are disjoint </span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span>                              <span class="co">#If both the conditions are true then in the end the function will return true </span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="co">#testing the function with examples</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 1</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>universal_set <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>}</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>sets_1 <span class="op">=</span> [{<span class="dv">1</span>, <span class="dv">2</span>}, {<span class="dv">3</span>}, {<span class="dv">4</span>}]</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(is_partition(sets_1, universal_set))  </span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 2: sets are not disjoint</span></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>sets_2 <span class="op">=</span> [{<span class="dv">1</span>, <span class="dv">2</span>}, {<span class="dv">2</span>, <span class="dv">3</span>}, {<span class="dv">4</span>}, {<span class="dv">2</span>, <span class="dv">1</span>}]</span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(is_partition(sets_2, universal_set))  </span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 3:union is not universal set</span></span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>sets_3 <span class="op">=</span> [{<span class="dv">1</span>, <span class="dv">2</span>}, {<span class="dv">5</span>, <span class="dv">6</span>}, {<span class="dv">7</span>}]</span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(is_partition(sets_3, universal_set))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True
False
False</code></pre>
</div>
</div>
<p><strong>Question 2: Laws</strong><br>
With an example numpy array corresponding to set A, B, C, show the distributive properties and De Morgan’s Laws.<br>
Also, use <code>venn3</code> from <code>matplotlib_venn</code> library for vizualization.</p>
<div id="cell-90" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib_venn <span class="im">import</span> venn3</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">6</span>, <span class="dv">9</span>])</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> np.array([<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">17</span>, <span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">9</span>])</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>C <span class="op">=</span> np.array([<span class="dv">4</span>, <span class="dv">72</span>, <span class="dv">23</span>, <span class="dv">10</span>, <span class="dv">34</span>, <span class="dv">7</span>])</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>universal_set <span class="op">=</span> np.union1d(A, np.union1d(B, C))</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>A_intrsct_B <span class="op">=</span> np.intersect1d(A, B)</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>A_intrsct_C <span class="op">=</span> np.intersect1d(A, C)</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>B_intrsct_C <span class="op">=</span> np.intersect1d(C, B)</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>A_uni_B <span class="op">=</span> np.union1d(A,B)</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>C_uni_B <span class="op">=</span> np.union1d(C,B)</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>C_uni_A <span class="op">=</span> np.union1d(C,A)</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>A_intrsct_B_uni_C <span class="op">=</span> np.intersect1d(A, C_uni_B)</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>A_uni_B_intrsct_C <span class="op">=</span> np.union1d(A, B_intrsct_C)</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> negation(set_a):</span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>    neg_set_a <span class="op">=</span> universal_set[<span class="op">~</span>np.isin(universal_set, set_a)]                    </span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> neg_set_a                           <span class="co"># ~np.isin(universal_set, set_a) returns a boolean mask. The value is true for the elements which are in U-set_a.</span></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_distributive(A, B, C):</span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># here we can't directly compare two arrays with ==. As it operates element wise and return a array of boolean values</span></span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> np.array_equal(A_intrsct_B_uni_C, np.union1d(A_intrsct_B, A_intrsct_C)) <span class="kw">and</span> np.array_equal(A_uni_B_intrsct_C, np.intersect1d(A_uni_B, C_uni_A)):</span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span>                                         </span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-34"><a href="#cb69-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_morgan_law(A, B, C):</span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> np.array_equal(negation(A_intrsct_B), np.union1d(negation(A), negation(B))) <span class="kw">and</span> np.array_equal(negation(A_uni_B), np.intersect1d(negation(A), negation(B))):</span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span>  </span>
<span id="cb69-39"><a href="#cb69-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb69-40"><a href="#cb69-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-41"><a href="#cb69-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-42"><a href="#cb69-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Checking if the distributive properties are true : </span><span class="sc">{</span>check_distributive(A, B, C)<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb69-43"><a href="#cb69-43" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Checking if the morgan law is true : </span><span class="sc">{</span>check_morgan_law(A, B, C)<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb69-44"><a href="#cb69-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-45"><a href="#cb69-45" aria-hidden="true" tabindex="-1"></a>venn <span class="op">=</span> venn3(subsets <span class="op">=</span> (A, B, C), set_labels<span class="op">=</span>(<span class="st">'Set A'</span>, <span class="st">'Set B'</span>, <span class="st">'Set C'</span>))</span>
<span id="cb69-46"><a href="#cb69-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-47"><a href="#cb69-47" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'100'</span>).set_text(<span class="st">'Only A'</span>)                                  <span class="co"># Label for Set A only</span></span>
<span id="cb69-48"><a href="#cb69-48" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'010'</span>).set_text(<span class="st">'Only B'</span>)                                  <span class="co"># Label for Set B only</span></span>
<span id="cb69-49"><a href="#cb69-49" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'001'</span>).set_text(<span class="st">'Only C'</span>)                                  <span class="co"># Label for Set C only</span></span>
<span id="cb69-50"><a href="#cb69-50" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'110'</span>).set_text(<span class="st">'$A \cap B$'</span>)                               </span>
<span id="cb69-51"><a href="#cb69-51" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'011'</span>).set_text(<span class="st">'$B \cap C$'</span>)                              <span class="co">#using latex </span></span>
<span id="cb69-52"><a href="#cb69-52" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'101'</span>).set_text(<span class="st">'$A \cap C$'</span>)</span>
<span id="cb69-53"><a href="#cb69-53" aria-hidden="true" tabindex="-1"></a>venn.get_label_by_id(<span class="st">'111'</span>).set_text(<span class="st">'$A \cap B \cap C$'</span>)</span>
<span id="cb69-54"><a href="#cb69-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-55"><a href="#cb69-55" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Checking if the distributive properties are true : True

Checking if the morgan law is true : True
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment_2_Pandas_Matplotlib_files/figure-html/cell-41-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Question 3: Union and Intersection of Students</strong><br>
For below code: 1. The union of all sets of students present across the three subjects. 2. The intersection of all sets of students present across the three subjects.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Dictionary of marks</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>marks <span class="op">=</span> {</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Math"</span>: {<span class="st">"Alice"</span>: <span class="dv">85</span>, <span class="st">"Bob"</span>: <span class="dv">90</span>, <span class="st">"Charlie"</span>: <span class="dv">78</span>},</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Physics"</span>: {<span class="st">"Bob"</span>: <span class="dv">88</span>, <span class="st">"Charlie"</span>: <span class="dv">92</span>, <span class="st">"David"</span>: <span class="dv">75</span>},</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Chemistry"</span>: {<span class="st">"Alice"</span>: <span class="dv">82</span>, <span class="st">"Charlie"</span>: <span class="dv">80</span>, <span class="st">"Eve"</span>: <span class="dv">91</span>},</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the dictionary to a DataFrame</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(marks).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-92" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Dictionary of marks</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>marks <span class="op">=</span> {</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Math"</span>: {<span class="st">"Alice"</span>: <span class="dv">85</span>, <span class="st">"Bob"</span>: <span class="dv">90</span>, <span class="st">"Charlie"</span>: <span class="dv">78</span>},</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Physics"</span>: {<span class="st">"Bob"</span>: <span class="dv">88</span>, <span class="st">"Charlie"</span>: <span class="dv">92</span>, <span class="st">"David"</span>: <span class="dv">75</span>},</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Chemistry"</span>: {<span class="st">"Alice"</span>: <span class="dv">82</span>, <span class="st">"Charlie"</span>: <span class="dv">80</span>, <span class="st">"Eve"</span>: <span class="dv">91</span>},</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the dictionary to a DataFrame</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(marks) .T</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>union_of_students <span class="op">=</span> <span class="bu">set</span>(df.columns)</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The union of all sets of students present across the three subjects is: </span><span class="sc">{</span>union_of_students<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>) </span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>intersection_of_student <span class="op">=</span> <span class="bu">set</span>(df.dropna(axis<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The intersection of all sets of students present across the three subjects is: </span><span class="sc">{</span>intersection_of_student<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The union of all sets of students present across the three subjects is: {'David', 'Charlie', 'Bob', 'Alice', 'Eve'}

The intersection of all sets of students present across the three subjects is: {'Charlie'}
</code></pre>
</div>
</div>
<p><strong>Question 4<br>
Implement a Python function to compute the cartesian product of two sets A and B without using Python’s built-in functions or libraries like itertools. The function should return the cartesian product as a set of ordered pairs (tuples).</strong></p>
<div id="cell-94" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cartesian_product(a_set, b_set):</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    answer <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> element_a <span class="kw">in</span> a_set:</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> element_b <span class="kw">in</span> b_set:</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>            answer.add((element_a, element_b))</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> answer</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="co">#testing the function with examples</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>}</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> {<span class="dv">3</span>, <span class="dv">4</span>}</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cartesian_product(A, B),<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>) </span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> {<span class="st">'a'</span>, <span class="st">'b'</span>}</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>}</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cartesian_product(A, B),<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)  </span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> {}</span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> {<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>}</span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cartesian_product(A, B))   <span class="co">#this should print a null set </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{(2, 4), (3, 4), (1, 4), (2, 3), (3, 3), (1, 3)} 

{('a', 2), ('b', 1), ('b', 2), ('a', 1)} 

set()</code></pre>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/rajmodi8905\.github\.io\/J039-EXPOSITION-WEBSITE\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>